*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui;
  background:#fff;
  color:#111;
}

/* ================= TOP BAR ================= */
.topbar{
  padding:8px;
  border-bottom:1px solid #e5e5e5;
  display:flex;
  gap:10px;
  align-items:center;
  overflow-x:auto;
  position:sticky;
  top:0;
  z-index:10;
  background:#fff;
}
.topbar input{padding:4px 6px;font-size:14px}

/* ================= LEGEND ================= */
.legend{display:flex;gap:6px;font-size:12px;white-space:nowrap}
.legend-item{
  display:flex;
  align-items:center;
  gap:4px;
  padding:4px 6px;
  border-radius:6px;
  cursor:pointer
}
.legend-item.active{background:#eee}
.legend-color{width:10px;height:10px;border-radius:3px}

/* ================= GRID ================= */
.header,.row{display:grid}

/* ================= Y AXIS ================= */
.room{
  width:88px;
  padding:6px;
  font-size:12px;
  background:#fafafa;
  border-right:1px solid #e5e5e5;
  position:sticky;
  left:0;
  z-index:4;
}
.header .room{
  background:#f5f5f5;
  z-index:6;
}

/* ================= CELL ================= */
.cell{
  height:34px;
  border:1px solid #eee;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
}
.cell.selecting{background:rgba(255,56,92,.3)}

/* ================= BAR ================= */
.bar{
  height:34px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:4px;
  cursor:pointer;
  overflow:hidden;
}
.bar-price{
  white-space:nowrap;
  font-size:12px;
  color:#fff;
}

/* ================= COLORS ================= */
.src-airbnb{background:#ff385c}
.src-booking{background:#003580}
.src-agoda{background:#e60023}
.src-trip{background:#ff6f00}
.src-slh{background:#6a5acd}
.src-walkinwayne{background:#2e8b57}
.src-walkinsoo{background:#8b4513}

/* ================= HEADER STICKY ================= */
.header{
  position:sticky;
  top:0;
  z-index:5;
  background:#fff;
}

/* ================= SUMMARY TRIGGER ================= */
#summaryTrigger{
  position:fixed;
  bottom:12px;
  right:12px;
  z-index:20;
  background:#111;
  color:#fff;
  font-size:13px;
  padding:8px 12px;
  border-radius:20px;
  cursor:pointer;
}

/* ================= BACKDROP ================= */
#summaryBackdrop{
  position:fixed;
  inset:0;
  z-index:25;
  background:rgba(0,0,0,.18);
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
}
#summaryBackdrop.show{
  opacity:1;
  pointer-events:auto;
}

/* ================= SUMMARY SHEET ================= */
.summary-sheet{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  z-index:30;
  background:#fff;
  border-radius:16px 16px 0 0;
  max-height:70svh;
  transform:translateY(100%);
  transition:transform .25s ease;
  box-shadow:0 -10px 30px rgba(0,0,0,.15);
}
.summary-sheet.show{
  transform:translateY(0);
}
.summary-handle{
  width:36px;
  height:4px;
  background:#ddd;
  border-radius:2px;
  margin:8px auto;
}

/* ================= SUMMARY CONTENT ================= */
#summaryContent{
  padding:10px;
  font-size:12px;
  overflow-y:auto;
  max-height:calc(70svh - 40px);
  min-height:1px;
}

/* ================= SUMMARY SECTIONS ================= */
.summary-section{
  margin-bottom:16px;
}

.summary-header{
  display:flex;
  justify-content:space-between;
  font-weight:600;
  padding:4px 0 2px;
}

.summary-row{
  display:flex;
  justify-content:space-between;
  padding:2px 0;
}

/* ================= MODAL ================= */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  z-index:999;
}
.modal-box{
  background:#fff;
  border-radius:14px 14px 0 0;
  padding:10px 12px;
  position:absolute;
  bottom:0;
  left:0;
  right:0;
}
.modal-box input,
.modal-box select{
  width:100%;
  height:36px;
  margin:4px 0;
  font-size:14px;
}

/* ================= MODAL ACTIONS ================= */
.actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}
.actions button{
  flex:1;
  height:44px;
  font-size:14px;
  border-radius:10px;
  border:none;
  cursor:pointer;
}
#saveBtn{background:#111;color:#fff}
#saveBtn:disabled{opacity:.4}
#deleteBtn{background:#ffecec;color:#c00}
.actions button:last-child{background:#f2f2f2}

/* ================= MOBILE ================= */
@media (max-width:768px){
  .room{width:72px}
  .bar-price{font-size:10px}
}
